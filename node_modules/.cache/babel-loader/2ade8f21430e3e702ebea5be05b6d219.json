{"ast":null,"code":"import _taggedTemplateLiteral from\"C:/Users/jsw93/OneDrive/\\uBC14\\uD0D5 \\uD654\\uBA74/WorkLog/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";import _toConsumableArray from\"C:/Users/jsw93/OneDrive/\\uBC14\\uD0D5 \\uD654\\uBA74/WorkLog/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";var _templateObject;import React,{useCallback,useContext,useRef}from'react';import Styled from'styled-components';import{Context}from'./../../App';import{$usePost}from'./../../hook/useFirebase';import{$useStringDate}from'../../hook';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var AddWorkLogModal=function AddWorkLogModal(_ref){var getData=_ref.getData,setData=_ref.setData;var titleInput=useRef(null);var categoryInput=useRef(null);var contentsInput=useRef(null);var _context=useContext(Context);var _POST_WORKLOG=useCallback(function(){var category,date,id,reference,title,contents,user;category=categoryInput.current.value;date=$useStringDate(new Date());id=getData.length===0?20001:getData[getData.length-1].id+1;reference=[];// 임시\ntitle=titleInput.current.value;contents=contentsInput.current.value;user=10001;// 임시\n$usePost(\"\".concat(_context.databaseURL,\"/workLog/worklog.json\"),{category:category,date:date,id:id,reference:reference,title:title,contents:contents,user:user},function(_ref2){var data=_ref2.data;console.log(data);setData(function(before){var _temp=_toConsumableArray(before);_temp.push(data);return _temp;});_context.setModalOpen(false);});},[_context,getData,setData]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Line,{children:[\"\\uBCF4\\uACE0\\uC885\\uB958:\",/*#__PURE__*/_jsxs(\"select\",{ref:categoryInput,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\\uC77C\\uC77C\\uC5C5\\uBB34\",children:\"\\uC77C\\uC77C\\uC5C5\\uBB34\"}),/*#__PURE__*/_jsx(\"option\",{value:\"\\uC8FC\\uAC04\\uC5C5\\uBB34\",children:\"\\uC8FC\\uAC04\\uC5C5\\uBB34\"}),/*#__PURE__*/_jsx(\"option\",{value:\"\\uC6D4\\uAC04\\uC5C5\\uBB34\",children:\"\\uC6D4\\uAC04\\uC5C5\\uBB34\"})]})]}),/*#__PURE__*/_jsxs(Line,{children:[\"\\uC81C\\uBAA9: \",/*#__PURE__*/_jsx(\"input\",{ref:titleInput,type:\"text\"})]}),/*#__PURE__*/_jsxs(Line,{children:[\"\\uB0B4\\uC6A9: \",/*#__PURE__*/_jsx(\"input\",{ref:contentsInput,type:\"text\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:_POST_WORKLOG,children:\"\\uB4F1\\uB85D\"})]});};export default AddWorkLogModal;var Line=Styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  padding: 10px 0;\\n\"])));","map":{"version":3,"sources":["C:/Users/jsw93/OneDrive/바탕 화면/WorkLog/src/component/modal/AddWorkLogModal.jsx"],"names":["React","useCallback","useContext","useRef","Styled","Context","$usePost","$useStringDate","AddWorkLogModal","getData","setData","titleInput","categoryInput","contentsInput","_context","_POST_WORKLOG","category","date","id","reference","title","contents","user","current","value","Date","length","databaseURL","data","console","log","before","_temp","push","setModalOpen","Line","div"],"mappings":"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","sourcesContent":["import React, { useCallback, useContext, useRef } from 'react';\r\nimport Styled from 'styled-components';\r\nimport { Context } from './../../App';\r\nimport { $usePost } from './../../hook/useFirebase';\r\nimport { $useStringDate } from '../../hook';\r\n\r\nconst AddWorkLogModal = ({getData, setData}) => {\r\n\r\n  const titleInput = useRef(null);\r\n  const categoryInput = useRef(null);\r\n  const contentsInput = useRef(null);\r\n\r\n  const _context = useContext(Context);\r\n\r\n  const _POST_WORKLOG = useCallback(() => {\r\n    let category,date,id,reference,title,contents,user;\r\n    category = categoryInput.current.value;\r\n    date = $useStringDate(new Date());\r\n    id = getData.length === 0 ? 20001 : getData[getData.length - 1].id + 1;\r\n    reference = []; // 임시\r\n    title = titleInput.current.value;\r\n    contents = contentsInput.current.value;\r\n    user = 10001; // 임시\r\n\r\n    $usePost(`${_context.databaseURL}/workLog/worklog.json`, {\r\n      category: category,\r\n      date: date,\r\n      id: id,\r\n      reference: reference,\r\n      title: title,\r\n      contents: contents,\r\n      user: user\r\n    }, ({data}) => {\r\n      console.log(data);\r\n      setData((before) => {\r\n        let _temp = [...before];\r\n        _temp.push(data);\r\n        return _temp;\r\n      });\r\n      _context.setModalOpen(false);\r\n    });\r\n  }, [_context, getData, setData]);\r\n\r\n  return (\r\n    <>\r\n      <Line>\r\n        보고종류:\r\n        <select ref={categoryInput}>\r\n          <option value=\"일일업무\">일일업무</option>\r\n          <option value=\"주간업무\">주간업무</option>\r\n          <option value=\"월간업무\">월간업무</option>\r\n        </select>\r\n      </Line>\r\n      <Line>\r\n        제목: <input ref={titleInput} type=\"text\" />\r\n      </Line>\r\n      <Line>\r\n        내용: <input ref={contentsInput} type=\"text\" />\r\n      </Line>\r\n      <button onClick={_POST_WORKLOG}>등록</button>\r\n\r\n    </>\r\n  )\r\n}\r\n\r\nexport default AddWorkLogModal;\r\n\r\nconst Line = Styled.div`\r\n  padding: 10px 0;\r\n`;"]},"metadata":{},"sourceType":"module"}